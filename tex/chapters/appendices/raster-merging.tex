Aerial photography and LiDAR data is usually provided in several smaller raster files, organized in a tiled pattern in order to reduce file sizes.
Each file is a \texttt{.geotiff} file, a container format which specifies necessary metadata and the underlying image data in a lossless format such as \texttt{PNG}.
This poses the problem of having to look up which files that cover a given region of interest and merging these files together before processing them.

A simpler approach is to create a \textit{GDAL Virtual Format} file (\texttt{VRT}) which is a virtual dataset file referencing all the respective tiles and bands (GIS uses the term bands for what we would otherwise refer to as image channels).
In simple cases, a \texttt{VRT} file can be autogenerated with the \texttt{gdalbuildvrt} GDAL utility.

\begin{shellcode}
$ gdalbuildvrt raster.vrt ${raster_directory}/*.tif
\end{shellcode}
%
The resulting \texttt{vrt} file behaves like single merged file, and can be read and processed by most GIS tools, but in practice it is just a small XML file and does not require you to load the entire raster dataset into memory.

Using the same file format, we can also combine overlapping raster datasets by expanding the number of channels in the resulting raster.

\begin{shellcode}
$ gdalbuildvrt -resolution ${resolution} combined.vrt -separate ${vrt1} ${vrt2} 
\end{shellcode}
%
Where \texttt{-resolution} can be set to either \texttt{highest}, \texttt{lowest}, or \texttt{average}, depending on how you want to handle datasets with different resolutions.
This is how we will merge the aerial photography (RGB) data with the DSM data (Z), resulting in a single consistent ZRGB dataset.
The resulting \texttt{VRT} file will only contain the first band from each source file, and needs to be manually edited according to the VRT schema~\cite{vrt_schema_2015} in order to include the green and blue bands of the original RGB dataset.
